---
/**
 * LanguageSwitcher Component
 *
 * Simple dropdown to switch between Romanian and English
 * Handles path translation between locales (e.g., /en/about/ -> /ro/despre/)
 */

import { type Locale, languageNames, languageFlags, getAlternateLocale, buildAlternatePath } from '@i18n/index';

interface Props {
  locale: Locale;
  currentPath: string;
}

const { locale, currentPath } = Astro.props;
const alternateLocale = getAlternateLocale(locale);

// Build alternate path with proper translation
const alternatePath = buildAlternatePath(currentPath, locale, alternateLocale);
---

<div class="relative">
  <a
    href={alternatePath}
    class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors"
    aria-label={`Switch to ${languageNames[alternateLocale]}`}
  >
    <span class="text-base">{languageFlags[alternateLocale]}</span>
    <span class="hidden sm:inline">{languageNames[alternateLocale]}</span>
  </a>
</div>

---
/**
 * Logo Component - GENERATIVA
 *
 * Design: Letter "G" with gradient cyanâ†’purple and orbital nodes
 * Inspired by the GPT-generated logo concept
 */

interface Props {
  size?: 'sm' | 'md' | 'lg' | 'xl';
  showText?: boolean;
  variant?: 'default' | 'white' | 'dark';
  class?: string;
}

const {
  size = 'md',
  showText = true,
  variant = 'default',
  class: className = ''
} = Astro.props;

// Size configurations
const sizes = {
  sm: { icon: 'w-8 h-8', text: 'text-lg', gap: 'gap-2' },
  md: { icon: 'w-10 h-10', text: 'text-xl', gap: 'gap-2.5' },
  lg: { icon: 'w-12 h-12', text: 'text-2xl', gap: 'gap-3' },
  xl: { icon: 'w-16 h-16', text: 'text-3xl', gap: 'gap-4' },
};

const textColors = {
  default: 'text-neutral-900',
  white: 'text-white',
  dark: 'text-neutral-900',
};

const config = sizes[size];
const textColor = textColors[variant];
---

<div class:list={["flex items-center", config.gap, className]}>
  <!-- Logo Icon - G with orbital nodes -->
  <svg
    class={config.icon}
    viewBox="0 0 48 48"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <defs>
      <!-- Main gradient cyan to purple -->
      <linearGradient id="logo-gradient-main" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" stop-color="#22d3ee" />
        <stop offset="50%" stop-color="#6366f1" />
        <stop offset="100%" stop-color="#8b5cf6" />
      </linearGradient>

      <!-- Glow filter -->
      <filter id="logo-glow" x="-20%" y="-20%" width="140%" height="140%">
        <feGaussianBlur stdDeviation="1" result="coloredBlur"/>
        <feMerge>
          <feMergeNode in="coloredBlur"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>

    <!-- Background circle (subtle) -->
    <circle cx="24" cy="24" r="22" fill="url(#logo-gradient-main)" opacity="0.08"/>

    <!-- Main G letter -->
    <path
      d="M24 8C15.163 8 8 15.163 8 24s7.163 16 16 16c6.627 0 12.314-4.033 14.743-9.778"
      stroke="url(#logo-gradient-main)"
      stroke-width="4"
      stroke-linecap="round"
      fill="none"
      filter="url(#logo-glow)"
    />

    <!-- Horizontal bar of G -->
    <path
      d="M24 24h13"
      stroke="url(#logo-gradient-main)"
      stroke-width="4"
      stroke-linecap="round"
      filter="url(#logo-glow)"
    />

    <!-- Orbital nodes -->
    <!-- Top node -->
    <circle cx="24" cy="8" r="3" fill="#22d3ee">
      <animate attributeName="opacity" values="1;0.6;1" dur="2s" repeatCount="indefinite"/>
    </circle>

    <!-- Right node -->
    <circle cx="37" cy="24" r="3" fill="#8b5cf6">
      <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
    </circle>

    <!-- Bottom node -->
    <circle cx="24" cy="40" r="3" fill="#6366f1">
      <animate attributeName="opacity" values="0.8;0.5;0.8" dur="2s" repeatCount="indefinite"/>
    </circle>

    <!-- Left node -->
    <circle cx="8" cy="24" r="3" fill="#22d3ee">
      <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
    </circle>

    <!-- Connection lines (subtle) -->
    <line x1="24" y1="8" x2="37" y2="24" stroke="url(#logo-gradient-main)" stroke-width="1" opacity="0.3"/>
    <line x1="37" y1="24" x2="24" y2="40" stroke="url(#logo-gradient-main)" stroke-width="1" opacity="0.3"/>
    <line x1="24" y1="40" x2="8" y2="24" stroke="url(#logo-gradient-main)" stroke-width="1" opacity="0.3"/>
    <line x1="8" y1="24" x2="24" y2="8" stroke="url(#logo-gradient-main)" stroke-width="1" opacity="0.3"/>
  </svg>

  <!-- Text: GENERATIVA -->
  {showText && (
    <span class:list={[
      "font-bold tracking-wide",
      config.text,
      textColor
    ]}>
      <span class="bg-gradient-to-r from-primary-400 via-indigo-500 to-accent-600 bg-clip-text text-transparent">
        GENERATIVA
      </span>
    </span>
  )}
</div>
